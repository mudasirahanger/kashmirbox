$(document).ready(function(){function e(){var e=p.find('input[name="customer-type"]').is(":checked");p.find(".col-right form").parent().addClass("hidden"),e&&("guest"===p.find('input[name="customer-type"]:checked').val()?(p.find("#checkout-guest-form").parent().removeClass("hidden"),p.find(".step-title span:nth-of-type(2)").html("Guest")):(p.find("#checkout-register-form").parent().removeClass("hidden"),p.find(".step-title span:nth-of-type(2)").html("Register")))}function s(e,s){var a=c.find("#step"+e),d=c.find("#step"+s);a.addClass("done"),a.find(".step-content").removeClass("in"),d.addClass("open"),d.find(".step-content").addClass("in")}function a(e){$("#address-form"+e).submit(function(){var s=$(this).closest(".address-form-wrap"),a=s.hasClass("new");return!!o($(this))&&(a&&$("#add-new-address").removeClass("hidden"),s.removeClass("new"),s.removeClass("editing"),s.addClass("saved"),s.find("#edit-panel-address-toggle"+e).prop("checked",!0),!1)})}function d(e){console.log(e),m.find("#edit-panel-address-toggle"+e).prop("checked",!0),m.find("#edit-address-toggle"+e).prop("checked",!0)}function r(){m.find(".address-form-wrap.new").remove()}function i(e){$(".field-error").remove();var s=!1,a=e.find('input[name="email"]'),d=e.find('input[name="password"]');return d.val()&&""!==d.val().trim()||(d.after('<span class="field-error">Password is required</span>'),s=!0),a.val()&&""!==a.val().trim()||(a.after('<span class="field-error">Email Address is required</span>'),s=!0),!s&&(!!validateEmail(a.val())||(a.after('<span class="field-error">Email Addresss is invalid.</span>'),!1))}function n(e){$(".field-error").remove();var s=!1,a=e.find('input[name="name"]'),d=e.find('input[name="email"]'),r=e.find('input[name="password"]');return a.val()&&""!==a.val().trim()||(a.after('<span class="field-error">Name is required</span>'),s=!0),r.val()&&""!==r.val().trim()||(r.after('<span class="field-error">Password is required</span>'),s=!0),d.val()&&""!==d.val().trim()||(d.after('<span class="field-error">Email Address is required</span>'),s=!0),!s&&(!!validateEmail(d.val())||(d.after('<span class="field-error">Email Addresss is invalid.</span>'),!1))}function t(e){$(".field-error").remove();var s=!1,a=e.find('input[name="name"]'),d=e.find('input[name="email"]');return a.val()&&""!==a.val().trim()||(a.after('<span class="field-error">Name is required</span>'),s=!0),d.val()&&""!==d.val().trim()||(d.after('<span class="field-error">Email Address is required</span>'),s=!0),!s&&(!!validateEmail(d.val())||(d.after('<span class="field-error">Email Addresss is invalid.</span>'),!1))}function o(e){$(".field-error").remove();var s=!1,a=e.find('input[name="name"]'),d=e.find('input[name="phone"]'),r=e.find('input[name="pincode"]'),i=e.find('input[name="locality"]'),n=e.find('input[name="city"]'),t=e.find('input[name="state"]'),o=e.find('textarea[name="street-address"]');return a.val()&&""!==a.val().trim()||(a.after('<span class="field-error">Name is required</span>'),s=!0),r.val()&&""!==r.val().trim()||(r.after('<span class="field-error">Pincode is required</span>'),s=!0),d.val()&&""!==d.val().trim()||(d.after('<span class="field-error">Phone is required</span>'),s=!0),i.val()&&""!==i.val().trim()||(i.after('<span class="field-error">Locality is required</span>'),s=!0),n.val()&&""!==n.val().trim()||(n.after('<span class="field-error">City is required</span>'),s=!0),t.val()&&""!==t.val().trim()||(t.after('<span class="field-error">State is required</span>'),s=!0),o.val()&&""!==o.val().trim()||(o.after('<span class="field-error">Sreet Address is required</span>'),s=!0),!s}function l(e){if(!e)return"";var s="";s+='<div class="address-form-edit-panel">',s+='<div class="address-toggle">',s+='<div class="radio radio-primary">',s+='<input class="address-toggle" id="edit-panel-address-toggle'+e+'" type="radio" name="edit-address-toggle" value="new" checked>',s+='<label for="edit-panel-address-toggle'+e+'"> </label>',s+="</div>",s+="</div>",s+='<div class="address-summary">',s+='<p><span class="name">Muheet Mehraj</span><span class="phone">9596888888</span></p>',s+='<p class="delivery-address"><span class="street-address">BarBarshah</span><span class="city">Srinagar</span><span class="state">Jammu and Kashmir</span><span class="pincode">190001</span></p>',s+='<p class="pin-error">The pincode is not servicable.</p>',s+="</div>",s+='<div class="address-edit"><a><span class="fa fa-edit"></span><span>Edit</span></a></div>';var a='<div class="address-form-wrap new editing clearfix">';return a+=s+="</div>",a+='<div class="address-form">',a+='<div class="col-xs-12"> ',a+='<div class="radio radio-primary">',a+='<input class="address-toggle" id="edit-address-toggle'+e+'" type="radio" name="address-toggle" value="new" checked>',a+='<label for="edit-address-toggle'+e+'"><span class="edit-label">Edit Address</span><span class="new-label">Add a new Address</span></label>',a+="</div>",a+="</div>",a+='<form id="address-form'+e+'" data-form-id="'+e+'">',a+='<div class="form-group">',a+='<div class="col-sm-6">',a+='<input class="form-control" name="name" placeholder="Name" autofocus>',a+="</div>",a+='<div class="col-sm-6">',a+='<input class="form-control" type="tel" name="phone" placeholder="Phone">',a+="</div>",a+="</div>",a+='<div class="form-group">',a+='<div class="col-sm-6">',a+='<input class="form-control" name="pincode" placeholder="Pincode">',a+="</div>",a+='<div class="col-sm-6">',a+='<input class="form-control" name="locality" placeholder="Locality">',a+="</div>",a+="</div>",a+='<div class="form-group">',a+='<div class="col-xs-12">',a+='<textarea class="form-control" name="street-address" placeholder="Address (Area and Street)"></textarea>',a+="</div>",a+="</div>",a+='<div class="form-group">',a+='<div class="col-sm-6">',a+='<input class="form-control" name="city" placeholder="City / District / Town">',a+="</div>",a+='<div class="col-sm-6">',a+='<input class="form-control" name="state" placeholder="State">',a+="</div>",a+="</div>",a+='<div class="form-group">',a+='<div class="col-sm-6">',a+='<input class="form-control" name="landmark" placeholder="Landmark (Optional)">',a+="</div>",a+='<div class="col-sm-6">',a+='<input class="form-control" name="alt-phone" placeholder="Alternate Phone (Optional)">',a+="</div>",a+="</div>",a+='<div class="form-group">',a+='<div class="col-xs-12">',a+="<p>Address Type</p>",a+="</div>",a+='<div class="col-sm-6">',a+='<div class="radio radio-primary">',a+='<input class="address-toggle" id="home-address-radio'+e+'" type="radio" name="address-type'+e+'" value="home" checked>',a+='<label for="home-address-radio'+e+'">Home(All day delivery)</label>',a+="</div>",a+="</div>",a+='<div class="col-sm-6">',a+='<div class="radio radio-primary">',a+='<input class="address-type" id="work-address-radio'+e+'" type="radio" name="address-type'+e+'" value="work">',a+='<label for="work-address-radio'+e+'">Work(Delivery between 10 AM - 5 PM)</label>',a+="</div>",a+="</div>",a+="</div>",a+='<div class="form-group">',a+='<div class="col-xs-12">',a+='<button class="btn btn-orange save-address" type="submit">Save</button>',a+='<button class="btn btn-default cancel-address" type="button">Cancel</button>',a+="</div>",a+="</div>",a+="</form>",a+="</div>",a+="</div>"}var c=$(".checkout-page-content"),p=c.find("#step1"),m=c.find("#step2");c.find("#step3"),c.find(".step");$(document).on("click",".checkout-page-content .step >.step-complete-panel",function(){$(this).closest(".step").nextAll(".step").removeClass("open").removeClass("done").find(".step-content").removeClass("in"),$(this).closest(".step").addClass("open").removeClass("done").find(".step-content").addClass("in")}),$(document).on("click","#step1 #checkout-type-btn",function(){p.find('input[name="customer-type"]').is(":checked")&&(p.find(".col-right #checkout-options-forms").addClass("open"),e())}),$(document).on("change",'#step1 input[name="customer-type"]',function(){$("#step1 #checkout-options-forms").hasClass("open")&&e()}),$(document).on("submit","#checkout-login-form",function(){return!!i($(this))&&(s(1,2),!1)}),$(document).on("submit","#checkout-register-form",function(){return!!n($(this))&&(s(1,2),!1)}),$(document).on("submit","#checkout-guest-form",function(){return!!t($(this))&&(s(1,2),!1)});for(var f=m.find("#add-new-address"),v=m.find(".address-forms > div").length,u=1,h=1;h<=v;h++){var g=m.find(".address-forms > div:nth-of-type("+h+") form").attr("data-form-id");u=parseInt(g),a(g)}$(document).on("click",".checkout-page-content #add-new-address",function(){m.find(".address-forms > div").length;u++,$(".address-form-wrap").removeClass("editing");var e=l(u);m.find(".address-forms").append(e),a(u),$(this).addClass("hidden")}),$(document).on("click",".checkout-page-content #step2 .cancel-address",function(){var e=$(this).closest(".address-form-wrap");if(isNewAddress=e.hasClass("new"),isNewAddress){s=m.find(".address-form-wrap:eq(0) form").attr("data-form-id");r()}else{var s=e.find("form").attr("data-form-id");e.removeClass("editing")}d(s),f.removeClass("hidden")}),$(document).on("change",'.checkout-page-content #step2 input[name="edit-address-toggle"]',function(){r(),f.removeClass("hidden")}),$(document).on("click",".checkout-page-content #step2 .address-form-wrap .address-edit",function(){r(),f.removeClass("hidden"),$(".checkout-page-content #step2 .address-form-wrap").removeClass("editing"),d($(this).closest(".address-form-wrap").find("form").attr("data-form-id")),$(this).closest(".address-form-wrap").addClass("editing")}),$(document).on("click",".checkout-page-content #step2 #proceed-to-payment-step button",function(){m.find(".address-form-wrap.editing").length;var e=m.find(".address-form-wrap.editing:eq(0)").find("form").attr("data-form-id"),a=$("#address-form"+e);a.submit(),a.find(".field-error").length>0?a.find(".field-error:eq(0)").siblings("input").focus():s(2,3)}),e()});
//# sourceMappingURL=checkout.js.map
