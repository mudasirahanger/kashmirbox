{"version":3,"sources":["category.js"],"names":["jQuery","document","ready","$","showProducts","data","view","length","each","index","product","catListContent","children","append","getProductTileView","getProductListView","html","img","name","discount","readyToShip","liked","id","currency_symbol","price","rating","discount_price","parseFloat","description","refreshCategoryProductView","catProduct","addClass","find","products","productNameHover","hover","this","closest","css","attr","catProdList","on","hasClass","removeClass","selectView","siblings","collapse","ajax","url","success","status","xhr"],"mappings":"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","file":"category.js","sourcesContent":["jQuery(document).ready(function($){\n\n  var catProdList = $('.category-products-list');\n  var catListContent = catProdList.find('.list-content');\n  var catProduct;\n  var products = [];\n\n  //toggle product filter \n  $(document).on('click', '.product-category-filter .toggle-list', function(){\n    if($(this).hasClass('fa-plus-circle')) {\n      $(this).removeClass('fa-plus-circle');\n      $(this).addClass('fa-minus-circle');\n      $(this).closest('category-products-filter').addClass('open');\n    } else {\n      $(this).addClass('fa-plus-circle');\n      $(this).removeClass('fa-minus-circle');\n      $(this).closest('category-products-filter').removeClass('open');\n    }\n  });\n\n  //toggle product view\n  $(document).on('click', '.category-products-list .views > li', function(){\n    var selectView = $(this).attr('data-view-type');\n    if(catListContent.hasClass(selectView)) {\n      return;\n    }\n    $(this).siblings().removeClass('active');\n    $(this).addClass('active');\n    if($(this).attr('data-view-type') === 'grid') {\n      catListContent.addClass('grid-view');\n      catListContent.removeClass('list-view');\n    } else {\n      catListContent.removeClass('grid-view');\n      catListContent.addClass('list-view');\n    }\n    var view = catProdList.find('.views > li.active').attr('data-view-type');\n    refreshCategoryProductView(view);\n  });\n\n  // mobile fix for collapse\n  $(document).on(\n      'click', \n      '.category-page-content #product-filter-modal .category-products-filter .product-category-filter .filter-label .fa',\n      function(){\n        $($(this).data('target')).collapse('toggle');\n  });\n\n  $.ajax({\n    'url' : 'products.json',\n    success : function(data, status, xhr) {\n      var view = catProdList.find('.views > li.active').attr('data-view-type');\n      showProducts(data, view);\n      catProduct = catProdList.find('.product');\n      productNameHover();\n      products = data;\n    }\n  });\n\n  function showProducts(data, view) {\n    if(!data || data.length === 0) {\n      return;\n    }\n    $.each(data, function(index, product){\n      if(view === 'grid')\n        catListContent\n        .children('.products-wrapper')\n        .append('<div class=\"grid-item\">'+getProductTileView(product)+'</div>');\n      else\n        catListContent\n        .children('.products-wrapper')\n        .append('<div class=\"list-item\">'+getProductListView(product)+'</div>');\n    });\n  }\n\n  function getProductTileView(product) {\n    var html = '<div class=\"product clearfix\">';\n    //product image\n    html += '<div class=\"product-img\">';\n    html += '<a href=\"#\"><img src=\"'+product.img+'\" alt=\"'+product.name+'\"></a>';\n\n    /*//overlay\n    html += '<div class=\"overlay\"><div class=\"overlay-vertical\"><div class=\"overlay-content\">';\n    html += '<a href=\"#\" class=\"btn btn-white view-products\">';\n    html += 'View Products <span class=\"fa fa-caret\"></span>';\n    html += '</a>';\n    //wishlist\n    if(product.liked) {\n      html += '<div class=\"add-to-wishlist liked\">';\n      html += '<a data-product-id=\"'+product.id+'\"><span class=\"fa fa-heart\"></a>';\n      html += '</div>';\n    } else {\n      html += '<div class=\"add-to-wishlist\">';\n      html += '<a data-product-id=\"'+product.id+'\"><span class=\"fa fa-heart-o\"></a>';\n      html += '</div>';\n    }\n    //end wishlist\n    html += '</div></div></div>';\n    //end overlay*/\n    \n    //sale\n    if(product.discount && product.discount > 0) {\n      html += '<div class=\"for-sale\">';\n      html += '<span>Sale '+product.discount+'% OFF</span>';\n      html += '</div>';\n    }\n    //end sale\n    \n    //ready to ship\n    if(product.readyToShip) {\n      html += '<div class=\"ready-to-ship\">';\n      html += '<span class=\"fa fa-paper-plane-o\"></span><span class=\"text\">Ready to ship</span>';\n      html += '</div>';\n    }\n    //end read to ship\n    \n    //wishlist\n    if(product.liked) {\n      html += '<div class=\"add-to-wishlist liked\">';\n      html += '<a data-product-id=\"'+product.id+'\"><span class=\"fa fa-heart\"></a>';\n      html += '</div>';\n    } else {\n      html += '<div class=\"add-to-wishlist\">';\n      html += '<a data-product-id=\"'+product.id+'\"><span class=\"fa fa-heart-o\"></a>';\n      html += '</div>';\n    }\n    //end wishlist\n\n    html += '</div>';\n    //end product image\n    \n    //product footer\n    html += '<div class=\"product-footer\">';\n    html += '<a href=\"#\" class=\"name\">'+product.name+'</a>';\n    html += '<span class=\"price\">'+product.currency_symbol+product.price+'</span>';\n    html += '<div class=\"rating\">';\n    var rating = product.rating;\n    while(rating--) {\n      html += '<span class=\"fa fa-star\"></span>';\n    }\n    html += '</div>';\n    html += '</div>';\n    //end product footer\n\n    html += '</div>'; \n    //end product\n    return html;\n  }\n\n\n  function getProductListView(product) {\n    var html = '<div class=\"product clearfix\">';\n\n    //product image\n    html += '<div class=\"product-img\">';\n    html += '<a href=\"#\"><img src=\"'+product.img+'\" alt=\"'+product.name+'\"></a>';\n    html += '</div>';\n    //end product image\n    \n    //product details\n    html += '<div class=\"product-details clearfix\">';\n\n    //left col\n    html += '<div class=\"left-col\">'\n    html += '<a href=\"#\" class=\"name\">'+product.name+'</a>';\n    \n    html += '<div class=\"rating\">';\n    var rating = product.rating;\n    while(rating--) {\n      html += '<span class=\"fa fa-star\"></span>';\n    }\n    html += '</div>';\n    \n    html += '<div class=\"price-box\">';\n    if(product.discount_price && parseFloat(product.discount_price) > 0) {\n      html += '<del>'+product.currency_symbol+product.price+'</del>';\n      html += '<span class=\"price\">'+product.currency_symbol+product.discount_price+'</span>';\n    } else  {\n      html += '<span class=\"price\">'+product.currency_symbol+product.price+'</span>';\n    }\n    html += '</div>';\n\n    html += '</div>';\n    //end left col\n    \n    //right col\n    html += '<div class=\"right-col\">';\n\n    //wishlist\n    if(product.liked) {\n      html += '<div class=\"add-to-wishlist liked\">';\n      html += '<a data-product-id=\"'+product.id+'\"><span class=\"fa fa-heart\"></span> add to wishlist</a>';\n      html += '</div>';\n    } else {\n      html += '<div class=\"add-to-wishlist\">';\n      html += '<a data-product-id=\"'+product.id+'\"><span class=\"fa fa-heart-o\"></span> add to wishlist</a>';\n      html += '</div>';\n    }\n    //end wishlist\n    \n    //ready to ship\n    if(product.readyToShip) {\n      html += '<div class=\"ready-to-ship\">';\n      html += '<span class=\"fa fa-paper-plane-o\"></span><span class=\"text\">Ready to ship</span>';\n      html += '</div>';\n    }\n    //end read to ship\n    \n    html += '</div>';\n    //end right col\n    \n    //description\n    html += '<div class=\"description\">';\n    html += '<p>'+product.description+'</p>';\n    html += '</div>'; \n    //end description\n\n    html += '<a href=\"#\" class=\"btn btn-orange shop-now\">Shop Now</a>';\n    \n    html += '</div>';\n    //end product detail\n    \n    html += '</div>';\n    return html;\n  }\n\n  function refreshCategoryProductView(view) {\n    catProduct.addClass('hidden');\n    catListContent.find('.products-wrapper').html('');\n    $.each(products, function(index, product){\n      if(view === 'grid')\n        catListContent\n        .children('.products-wrapper')\n        .append('<div class=\"grid-item\">'+getProductTileView(product)+'</div>');\n      else\n        catListContent\n        .children('.products-wrapper')\n        .append('<div class=\"list-item\">'+getProductListView(product)+'</div>');\n    });\n    productNameHover();\n  }\n\n  function productNameHover() {\n    $('.product .name').hover(\n      function() {\n        $(this).closest('.product').find('.add-to-wishlist').css('display', 'block');\n      },\n      function(){\n        $(this).closest('.product').find('.add-to-wishlist').attr('style', '');\n      }\n    );\n  }\n\n});\n"]}